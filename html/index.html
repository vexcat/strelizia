<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Strelizia: Strelizia</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Strelizia
   </div>
   <div id="projectbrief">Simple Runtime Feedback</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Strelizia </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Strelizia! The PROS program named after that robot in that anime. 8301E's code for the Tower Takeover season.</p>
<p>This program makes use of a library I've written called tabu, and it makes testing your robot a breeze! It's an event-oriented way of getting data to and from the microUSB serial. Made even more useful with a wireless USB cable, or a RasPi configured to share its serial ports over bluetooth (that's what we're using, you'll see references to some /dev/rfcomm# in our scripts).</p>
<p>Be on the lookout for another project soon to be open-sourced, tabicat! It's the on-computer counterpart to strelizia. It has a graphical representation of all the things strelizia can be asked to do over serial, and can graph and save data received back from the robot for further analysis.</p>
<h2>Features</h2>
<p>Currently, this project exists mainly to test out control systems under different parameters.</p>
<p>Here's what I'm testing currently:</p><ul>
<li>PID (event "pid_test")<ul>
<li>P, I, D gains</li>
<li>kBias</li>
<li>useVoltage</li>
</ul>
</li>
<li>S Curve (event "simple_follower.test")<ul>
<li>Displacement, Velocity, Acceleration, and Jerk limits</li>
<li>kV, kA</li>
<li>stopOnFinish</li>
<li>stopBrakeMode</li>
<li>feedbackEnabled</li>
</ul>
</li>
</ul>
<p>Everything is controlled from tabu, rather than like in Elliot2 where all configuration and testing is done from the Controller LCD. This is for faster input, better feedback, and most importantly, less cluttered code dealing with UI. There is also nothing on the touchscreen, but it will become Elliot2's auton-switcher when the time comes.</p>
<p>Currently, there is no way for the robot to store any data on the SD card, and there probably won't be a need for it. It is a mostly stateless system, with tests wrapping up in a way that doesn't affect the rest of the program's execution at all. We plan to use PROS' hot/cold linking to make compiling new autonomi fast, and a RasPi wirelessly connected to a PC for wirelessly and safely uploading the autonomi.</p>
<h2>Tabu</h2>
<p>Tabu, the amazing event-oriented serial API! It sends two kinds of messages, Events and Replies. An Event is just a plain message, containing JSON data. When an event is sent, it will "wake up" a piece of code relevant to that event, assuming a listener was registered using <code>tabi_on</code>. Then, a reply can be sent with feedback to the message. The receiver can use <code>tabu_on</code> also to register a reply listener for a particular message. "Big" messages can also be sent, if you're worried your message is too big to be sent as one chunk, it can be split up, waiting for confirmation of reception on each chunk. This is automatically used on <code>tabu_reply_on</code> handlers.</p>
<p>Here's an example of it in use:</p>
<div class="fragment"><div class="line">void init_sonic() {</div><div class="line">  sonic = std::unique_ptr&lt;pros::ADIUltrasonic&gt;(new pros::ADIUltrasonic(&#39;C&#39;, &#39;D&#39;));</div><div class="line">  tabu_reply_on(&quot;sonic&quot;, [&amp;]() -&gt; json {</div><div class="line">    return sonic_dist();</div><div class="line">  });</div><div class="line">}</div></div><!-- fragment --><p> Pretty neat, right? Here, the code sets a listener for the "sonic" event, saying to send the current sonic distance whenever "sonic" is sent across the wire, in just 3 lines.</p>
<h2>Documentation</h2>
<p>Currently, this project has no documentation, sorry about that! It's planned for the future, especially for Tabu. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
